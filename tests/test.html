<!DOCTYPE html>
<html>
<head>
    <title>Hello darling</title>


</head>
<body>

<canvas id="screen" width="640" height="480"
        style="border:1px solid #000000; float: left">
    <style>
        body {
            font-family: arial;
        }
    </style>
</canvas>

</body>

<script>

    var SCREEN_WIDTH = 640;
    var SCREEN_HEIGHT = 480;

    var angle = 20;
    var angle_inc = 5;

    var radius = 100;

    var buffer = document.getElementById('screen');
    var buffer_context = buffer.getContext('2d');
    var buffer_data = buffer_context.getImageData(0, 0, SCREEN_WIDTH, SCREEN_HEIGHT);


    buffer_context.clearRect(0,0,buffer.width, buffer.height);

    buffer_context.beginPath();
    buffer_context.moveTo(10, 10);
    buffer_context.lineTo(320, 240);

    buffer_context.strokeStyle = '#ff0000';
    buffer_context.stroke();


    console.log("Cos = "+Math.cos(rad(20)));
    console.log("Sin = "+Math.sin(rad(20)));


    function rad(a)
    {
     return a * (Math.PI / 180);
    }

    window.setInterval(function(){

        var x = Math.cos(rad(angle));
        var y = -Math.sin(rad(angle));

        //console.log("angle=%f, cosx = %f, siny = %f", angle, x, y);


        x *= radius;
        y *= radius;

        x += SCREEN_WIDTH / 2;
        y += SCREEN_HEIGHT /2;

        buffer_context.clearRect(0,0,buffer.width, buffer.height);

        buffer_context.beginPath();
        buffer_context.moveTo(SCREEN_WIDTH / 2, SCREEN_HEIGHT / 2);
        buffer_context.lineTo(x, y);

        buffer_context.strokeStyle = '#ff0000';
        buffer_context.stroke();

        angle += angle_inc;

        if (angle > 359) angle -= 360;
        if (angle < 0) angle += 360;

    }, 25);


</script>

</html>
